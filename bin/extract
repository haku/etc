#!/bin/bash
F=$1
if [[ "$F" == *.tar.gz ]] ; then
  C=$(tar tf "$F" | wc -l | tr -d " ")
  if [ "$C" -gt 1 ] ; then
    N="$(basename "$F")"
    N="${N%.tar.gz}"
    if [ -e "$N" ] ; then
      echo "exists: $N"
      exit 1
    fi
    echo "mkdir: $N"
    mkdir "$N"
    tar xf "$@" -C "$N" 
  else
    tar xf "$@"
  fi
else
  echo "Unknown archive type."
  exit 1
fi
